<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Campus Connect | Profile</title>

<script src="https://cdn.tailwindcss.com"></script>
<script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="bg-gray-100 min-h-screen">

<!-- HEADER -->
<header class="bg-white border-b sticky top-0 z-50">
  <div class="max-w-6xl mx-auto px-4 h-16 flex items-center gap-4">
    <button onclick="history.back()" class="text-gray-500 hover:text-black">
      <i data-lucide="arrow-left"></i>
    </button>
    <h1 class="font-bold text-lg">Profile Viewer</h1>
  </div>
</header>

<!-- MAIN -->
<main class="max-w-6xl mx-auto px-4 py-8 space-y-8">

<!-- ================= BASIC INFO ================= -->
<section class="bg-white rounded-xl shadow p-6 flex items-center gap-6">
  <div class="w-20 h-20 rounded-full bg-indigo-100 flex items-center justify-center text-2xl font-bold text-indigo-600" id="avatar"></div>
  <div>
    <h2 class="text-2xl font-bold" id="name"></h2>
    <p class="text-gray-500" id="headline"></p>
  </div>
</section>

<!-- ================= ACADEMIC ================= -->
<section class="bg-white rounded-xl shadow p-6">
  <h3 class="text-xl font-semibold mb-4">Academic Information</h3>

  <div class="grid md:grid-cols-3 gap-4 mb-6">
    <div><span class="font-semibold">Course:</span> <span id="course"></span></div>
    <div><span class="font-semibold">Branch:</span> <span id="branch"></span></div>
    <div><span class="font-semibold">Admission Year:</span> <span id="year"></span></div>
  </div>

  <h4 class="font-semibold mb-2">Internships</h4>
  <div id="internships" class="space-y-3 mb-6"></div>

  <h4 class="font-semibold mb-2">Academic Projects</h4>
  <div id="academicProjects" class="space-y-3"></div>
</section>

<!-- ================= CAREER ================= -->
<section class="bg-white rounded-xl shadow p-6">
  <h3 class="text-xl font-semibold mb-4">Career</h3>

  <h4 class="font-semibold mb-2">Work Experience</h4>
  <div id="work" class="space-y-3 mb-6"></div>

  <h4 class="font-semibold mb-2">Projects</h4>
  <div id="careerProjects" class="space-y-3"></div>
</section>

<!-- ================= SKILLS ================= -->
<section class="bg-white rounded-xl shadow p-6">
  <h3 class="text-xl font-semibold mb-4">Skills</h3>
  <div id="skills" class="grid md:grid-cols-2 gap-4"></div>
</section>

</main>

<script>
lucide.createIcons();

/* ========= DEMO DATA (later backend) ========= */
const profiles = {
  1: {
    name: "Aarav Mehta",
    headline: "BTech CSE | GATE Aspirant",
    course: "BTech",
    branch: "Computer Science",
    year: 2022,

    internships: [
      { company: "Google", role: "SWE Intern", duration: "May–July 2024" }
    ],

    academicProjects: [
      { title: "Smart Attendance System", tech: "Python, OpenCV" }
    ],

    work: [
      { company: "Infosys", role: "Intern", duration: "2023" }
    ],

    careerProjects: [
      { title: "Campus Connect", tech: "HTML, JS, Tailwind" }
    ],

    skills: [
      { name: "JavaScript", level: "Advanced" },
      { name: "DSA", level: "Intermediate" }
    ]
  }
};

/* ========= LOAD PROFILE ========= */
const id = localStorage.getItem("viewProfileUserId");
const p = profiles[id];

if (!p) {
  alert("Profile not found");
  history.back();
}

/* ========= BASIC ========= */
document.getElementById("avatar").innerText = p.name[0];
document.getElementById("name").innerText = p.name;
document.getElementById("headline").innerText = p.headline;

document.getElementById("course").innerText = p.course;
document.getElementById("branch").innerText = p.branch;
document.getElementById("year").innerText = p.year;

/* ========= HELPERS ========= */
function card(title, subtitle) {
  return `
    <div class="border rounded-lg p-4 bg-gray-50">
      <p class="font-semibold">${title}</p>
      <p class="text-sm text-gray-500">${subtitle}</p>
    </div>`;
}

/* ========= RENDER ========= */
document.getElementById("internships").innerHTML =
  p.internships.map(i => card(i.company, `${i.role} • ${i.duration}`)).join("");

document.getElementById("academicProjects").innerHTML =
  p.academicProjects.map(pr => card(pr.title, pr.tech)).join("");

document.getElementById("work").innerHTML =
  p.work.map(w => card(w.company, `${w.role} • ${w.duration}`)).join("");

document.getElementById("careerProjects").innerHTML =
  p.careerProjects.map(pr => card(pr.title, pr.tech)).join("");

document.getElementById("skills").innerHTML =
  p.skills.map(s => `
    <div class="border rounded-lg p-4">
      <p class="font-semibold">${s.name}</p>
      <p class="text-sm text-gray-500">${s.level}</p>
    </div>
  `).join("");
</script>

</body>
</html>
